---
// import "web-streams-polyfill/es2018";

// import TopNav from "@components/TopNav.astro";
import BottomNav from "@components/BottomNav.svelte"
import Footer from "@components/Footer.svelte";
import IdolConfetti from "@components/IdolConfetti.svelte";
import "../base.css"

import {LL} from "src/pages/idol"

await LL.setup()
const currentBirthdayIdol = await LL.getBirthdayIdol()
const {pathname} = Astro.url
---

<html lang="en">
    <head>
        <title>Treelar</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="generator" content={Astro.generator} />

        <meta name="title" content="Hi, I'm Treelar">
        <meta name="description" content="I make stuff, maybe useful, maybe not, depends on who you ask.">
        <meta name="keywords" content="treelar,astro,development,personal">
        <meta name="robots" content="index, follow">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="language" content="English">
        <meta name="author" content="Treelar">

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://treelar.xyz/">
        <meta property="og:title" content="Hi, I'm Treelar">
        <meta property="og:description" content="I make stuff, maybe useful, maybe not, depends on who you ask.">
        <meta property="og:image" content="https://gravatar.com/avatar/55255e7fac560d2630297f3d2e90b40f.png?s=2048">

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:site" content="@TYNROH"/>
        <meta property="twitter:url" content="https://treelar.xyz/">
        <meta property="twitter:title" content="Hi, I'm Treelar">
        <meta property="twitter:description" content="I make stuff, maybe useful, maybe not, depends on who you ask.">
        <meta property="twitter:image" content="https://gravatar.com/avatar/55255e7fac560d2630297f3d2e90b40f.png?s=2048">


        <link rel="icon" href="favicon.ico">
    </head>
    <body class="text-white bg-gray-900">
        <div class="min-h-screen overflow-x-hidden">
            {
                currentBirthdayIdol ?
                <IdolConfetti colors={[currentBirthdayIdol.color]} client:idle></IdolConfetti> : null
            }
            <!-- <TopNav/> -->
            <slot></slot>
            <BottomNav client:idle></BottomNav>
            <Footer pathname={pathname}></Footer>
        </div>
    </body>
</html>
